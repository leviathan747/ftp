private service Telnet::test2 () is
conn: instance of RemoteConnection;
keyboard: instance of Keyboard;
msg: anonymous sequence of byte;
begin
  keyboard := find_one Keyboard();
  if ( null /= keyboard ) then
    conn := keyboard->R2->R3;
    if ( null /= conn ) then
      // throttle the maximum send amount to force multiple send operations
      Connections.default().buffer_size := 10;
      msg := 72 & 101 & 108 & 108 & 111 & 44 & 32 & 87 & 111 & 114 & 108 & 100 & 33; // "Hello, World!" TODO sort out conversion utilities
      keyboard.buffer := keyboard.buffer & msg & CharacterSequences.default().CRLF;
      generate RemoteConnection.write() to conn;
    end if;
  end if;
end service;
